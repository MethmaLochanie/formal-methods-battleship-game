parser_version('116f27e7eb51f509218253a845ec133cc2f8c434').
classical_b('BattleShip',['I:\\Coursework\\BattleShip\\BattleShip.mch','I:\\Coursework\\BattleShip\\Shared.mch','I:\\Coursework\\BattleShip\\Players.mch','I:\\Coursework\\BattleShip\\PlayerFleet.mch','I:\\Coursework\\BattleShip\\BattleShipControl.mch']).
machine(abstract_machine(p5(1,6,1,138,4),machine(p3(6,1,8)),machine_header(p3(7,5,15),'BattleShip',[]),[sees(p5(1,9,1,10,11),[identifier(p3(10,5,11),'Shared')]),includes(p5(1,12,1,13,31),[machine_reference(p3(13,5,12),'Players',[]),machine_reference(p3(13,14,31),'BattleShipControl',[])]),promotes(p5(1,15,1,16,53),[identifier(p3(16,5,14),shipsLeft),identifier(p3(16,16,29),shipLocations),identifier(p3(16,31,41),shotsTaken),identifier(p3(16,43,53),gameStatus)]),variables(p5(1,18,1,19,29),[identifier(p3(19,5,18),onGoingPlayer),identifier(p3(19,20,29),targetHit)]),invariant(p5(1,21,1,23,29),conjunct(p5(1,22,5,23,29),[member(p3(22,5,28),identifier(p3(22,5,18),onGoingPlayer),identifier(p3(22,21,28),'PLAYERS')),member(p3(23,5,29),identifier(p3(23,5,14),targetHit),identifier(p3(23,17,29),'TARGET_STATE'))])),initialisation(p5(1,25,1,27,22),parallel(p5(1,26,5,27,22),[assign(p3(26,5,29),[identifier(p3(26,5,18),onGoingPlayer)],[identifier(p3(26,22,29),'Player1')]),assign(p3(27,5,22),[identifier(p3(27,5,14),targetHit)],[identifier(p3(27,18,22),'Miss')])])),definitions(p5(1,29,1,72,35),[expression_definition(p5(1,30,5,66,6),'ANIMATION_FUNCTION',[],comprehension_set(p5(1,31,6,66,6),[identifier(p3(31,7,12),rowNo),identifier(p3(31,14,19),colNo),identifier(p3(31,21,26),imgNo)],conjunct(p5(1,32,9,64,20),[member(p3(32,9,19),identifier(p3(32,9,14),rowNo),identifier(p3(32,17,19),'YY')),member(p3(33,9,19),identifier(p3(33,9,14),colNo),identifier(p3(33,17,19),'XX')),conjunct(p5(1,34,13,64,20),[implication(p3(0,0,0),conjunct(p3(34,17,77),[equal(p3(34,17,41),identifier(p3(34,17,31),current_player),identifier(p3(34,34,41),'Player2')),member(p3(34,45,77),couple(p3(34,45,60),[identifier(p3(34,45,50),colNo),identifier(p3(34,55,60),rowNo)]),identifier(p3(34,64,77),player1_fleet))]),equal(p3(35,17,26),identifier(p3(35,17,22),imgNo),integer(p3(35,25,26),3))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(34,17,77),[equal(p3(34,17,41),identifier(p3(34,17,31),current_player),identifier(p3(34,34,41),'Player2')),member(p3(34,45,77),couple(p3(34,45,60),[identifier(p3(34,45,50),colNo),identifier(p3(34,55,60),rowNo)]),identifier(p3(34,64,77),player1_fleet))])),conjunct(p5(1,37,21,63,24),[implication(p3(0,0,0),conjunct(p3(37,24,88),[equal(p3(37,24,48),identifier(p3(37,24,38),current_player),identifier(p3(37,41,48),'Player2')),member(p3(37,52,88),couple(p3(37,52,67),[identifier(p3(37,52,57),colNo),identifier(p3(37,62,67),rowNo)]),function(p3(37,70,88),identifier(p3(37,70,79),shots_hit),[identifier(p3(37,80,87),'Player2')]))]),equal(p3(39,25,34),identifier(p3(39,25,30),imgNo),integer(p3(39,33,34),1))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(37,24,88),[equal(p3(37,24,48),identifier(p3(37,24,38),current_player),identifier(p3(37,41,48),'Player2')),member(p3(37,52,88),couple(p3(37,52,67),[identifier(p3(37,52,57),colNo),identifier(p3(37,62,67),rowNo)]),function(p3(37,70,88),identifier(p3(37,70,79),shots_hit),[identifier(p3(37,80,87),'Player2')]))])),conjunct(p5(1,41,25,62,28),[implication(p3(0,0,0),conjunct(p3(41,28,94),[equal(p3(41,28,52),identifier(p3(41,28,42),current_player),identifier(p3(41,45,52),'Player2')),member(p3(41,55,94),couple(p3(41,55,70),[identifier(p3(41,55,60),colNo),identifier(p3(41,65,70),rowNo)]),function(p3(41,73,94),identifier(p3(41,73,85),shots_missed),[identifier(p3(41,86,93),'Player2')]))]),equal(p3(43,29,37),identifier(p3(43,29,34),imgNo),integer(p3(43,36,37),2))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(41,28,94),[equal(p3(41,28,52),identifier(p3(41,28,42),current_player),identifier(p3(41,45,52),'Player2')),member(p3(41,55,94),couple(p3(41,55,70),[identifier(p3(41,55,60),colNo),identifier(p3(41,65,70),rowNo)]),function(p3(41,73,94),identifier(p3(41,73,85),shots_missed),[identifier(p3(41,86,93),'Player2')]))])),conjunct(p5(1,45,29,61,32),[implication(p3(0,0,0),conjunct(p3(45,32,91),[equal(p3(45,32,56),identifier(p3(45,32,46),current_player),identifier(p3(45,49,56),'Player1')),member(p3(45,60,91),couple(p3(45,60,75),[identifier(p3(45,60,65),colNo),identifier(p3(45,70,75),rowNo)]),identifier(p3(45,78,91),player2_fleet))]),equal(p3(47,33,42),identifier(p3(47,33,38),imgNo),integer(p3(47,41,42),4))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(45,32,91),[equal(p3(45,32,56),identifier(p3(45,32,46),current_player),identifier(p3(45,49,56),'Player1')),member(p3(45,60,91),couple(p3(45,60,75),[identifier(p3(45,60,65),colNo),identifier(p3(45,70,75),rowNo)]),identifier(p3(45,78,91),player2_fleet))])),conjunct(p5(1,49,33,60,36),[implication(p3(0,0,0),conjunct(p3(49,36,100),[equal(p3(49,36,60),identifier(p3(49,36,50),current_player),identifier(p3(49,53,60),'Player1')),member(p3(49,64,100),couple(p3(49,64,79),[identifier(p3(49,64,69),colNo),identifier(p3(49,74,79),rowNo)]),function(p3(49,82,100),identifier(p3(49,82,91),shots_hit),[identifier(p3(49,92,99),'Player1')]))]),equal(p3(51,37,46),identifier(p3(51,37,42),imgNo),integer(p3(51,45,46),1))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(49,36,100),[equal(p3(49,36,60),identifier(p3(49,36,50),current_player),identifier(p3(49,53,60),'Player1')),member(p3(49,64,100),couple(p3(49,64,79),[identifier(p3(49,64,69),colNo),identifier(p3(49,74,79),rowNo)]),function(p3(49,82,100),identifier(p3(49,82,91),shots_hit),[identifier(p3(49,92,99),'Player1')]))])),conjunct(p5(1,53,37,59,40),[implication(p3(0,0,0),conjunct(p3(53,40,107),[equal(p3(53,40,64),identifier(p3(53,40,54),current_player),identifier(p3(53,57,64),'Player1')),member(p3(53,68,107),couple(p3(53,68,83),[identifier(p3(53,68,73),colNo),identifier(p3(53,78,83),rowNo)]),function(p3(53,86,107),identifier(p3(53,86,98),shots_missed),[identifier(p3(53,99,106),'Player1')]))]),equal(p3(55,41,49),identifier(p3(55,41,46),imgNo),integer(p3(55,48,49),2))),implication(p3(0,0,0),negation(p3(0,0,0),conjunct(p3(53,40,107),[equal(p3(53,40,64),identifier(p3(53,40,54),current_player),identifier(p3(53,57,64),'Player1')),member(p3(53,68,107),couple(p3(53,68,83),[identifier(p3(53,68,73),colNo),identifier(p3(53,78,83),rowNo)]),function(p3(53,86,107),identifier(p3(53,86,98),shots_missed),[identifier(p3(53,99,106),'Player1')]))])),equal(p3(57,41,50),identifier(p3(57,41,46),imgNo),integer(p3(57,49,50),0)))]))]))]))]))]))])]))),expression_definition(p3(69,5,34),'ANIMATION_IMG1',[],string(p3(69,23,34),'gif/2.gif')),expression_definition(p3(68,5,34),'ANIMATION_IMG0',[],string(p3(68,23,34),'gif/1.gif')),expression_definition(p3(71,5,34),'ANIMATION_IMG3',[],string(p3(71,23,34),'gif/4.gif')),expression_definition(p3(70,5,34),'ANIMATION_IMG2',[],string(p3(70,23,34),'gif/3.gif')),expression_definition(p3(72,5,34),'ANIMATION_IMG4',[],string(p3(72,23,34),'gif/5.gif'))]),operations(p5(1,74,1,136,7),[operation(p5(1,76,5,81,8),identifier(p5(1,76,5,81,8),currentPlayer),[identifier(p3(76,5,16),currentTurn)],[],precondition(p5(1,77,5,81,8),equal(p3(78,9,29),identifier(p3(78,9,19),game_state),identifier(p3(78,22,29),'Ongoing')),assign(p3(80,9,38),[identifier(p3(80,9,20),currentTurn)],[identifier(p3(80,24,38),current_player)]))),operation(p5(1,83,5,89,8),identifier(p5(1,83,5,89,8),gameRestart),[],[],precondition(p5(1,84,5,89,8),conjunct(p3(85,11,129),[disjunct(p3(85,11,52),equal(p3(85,11,29),identifier(p3(85,11,24),player2_fleet),empty_set(p3(85,27,29))),equal(p3(85,34,52),identifier(p3(85,34,47),player1_fleet),empty_set(p3(85,50,52)))),disjunct(p3(85,57,129),equal(p3(85,57,91),identifier(p3(85,57,67),game_state),identifier(p3(85,70,91),'Game_Over_Player2_won')),equal(p3(85,95,129),identifier(p3(85,95,105),game_state),identifier(p3(85,108,129),'Game_Over_Player1_won')))]),parallel(p5(1,87,9,88,59),[operation_call(p3(87,9,20),identifier(p3(87,9,20),resetPlayer),[],[]),operation_call(p3(88,9,25),identifier(p3(88,9,25),updateGameStatus),[],[identifier(p3(88,26,59),'Both_players_still_need_to_deploy')])]))),operation(p5(1,91,5,113,8),identifier(p5(1,91,5,113,8),doDeployFleet),[identifier(p3(91,5,11),report)],[identifier(p3(91,30,36),player),identifier(p3(91,38,47),positions)],precondition(p5(1,92,5,113,8),conjunct(p5(1,93,9,97,92),[member(p3(93,9,25),identifier(p3(93,9,15),player),identifier(p3(93,18,25),'PLAYERS')),subset(p3(94,9,29),identifier(p3(94,9,18),positions),mult_or_cart(p3(94,22,29),int_set(p3(94,22,25)),int_set(p3(94,26,29)))),equal(p3(95,9,37),card(p3(95,9,24),identifier(p3(95,14,23),positions)),identifier(p3(95,27,37),'FLEET_SIZE')),equal(p3(96,10,56),identifier(p3(96,10,20),game_state),identifier(p3(96,23,56),'Both_players_still_need_to_deploy')),conjunct(p3(97,11,92),[implication(p3(97,11,49),equal(p3(97,11,27),identifier(p3(97,11,17),player),identifier(p3(97,20,27),'Player1')),equal(p3(97,31,49),identifier(p3(97,31,44),player1_fleet),empty_set(p3(97,47,49)))),implication(p3(97,54,92),equal(p3(97,54,70),identifier(p3(97,54,60),player),identifier(p3(97,63,70),'Player2')),equal(p3(97,74,92),identifier(p3(97,74,87),player2_fleet),empty_set(p3(97,90,92))))])]),parallel(p5(1,99,9,112,12),[operation_call(p3(99,9,49),identifier(p3(99,9,49),deployFleet),[identifier(p3(99,9,15),report)],[identifier(p3(99,32,38),player),identifier(p3(99,40,49),positions)]),if(p5(1,100,9,112,12),equal(p3(101,13,29),identifier(p3(101,13,19),player),identifier(p3(101,22,29),'Player1')),if(p5(1,103,13,107,16),not_equal(p3(104,17,36),identifier(p3(104,17,30),player2_fleet),empty_set(p3(104,34,36))),operation_call(p3(106,17,33),identifier(p3(106,17,33),updateGameStatus),[],[identifier(p3(106,34,41),'Ongoing')]),[],skip(none)),[if_elsif(none,not_equal(p3(109,13,32),identifier(p3(109,13,26),player1_fleet),empty_set(p3(109,30,32))),operation_call(p3(111,13,29),identifier(p3(111,13,29),updateGameStatus),[],[identifier(p3(111,30,37),'Ongoing')]))],skip(none))]))),operation(p5(1,115,5,122,8),identifier(p5(1,115,5,122,8),doPlayerShoots),[identifier(p3(115,5,11),result)],[identifier(p3(115,31,37),target)],precondition(p5(1,116,5,122,8),conjunct(p5(1,117,9,119,28),[member(p3(117,9,22),identifier(p3(117,9,15),target),identifier(p3(117,18,22),'GRID')),equal(p3(118,9,29),identifier(p3(118,9,19),game_state),identifier(p3(118,22,29),'Ongoing')),not_equal(p3(118,32,51),identifier(p3(118,32,45),player1_fleet),empty_set(p3(118,49,51))),not_equal(p3(119,9,28),identifier(p3(119,9,22),player2_fleet),empty_set(p3(119,26,28)))]),operation_call(p3(121,9,39),identifier(p3(121,9,39),playerShoots),[identifier(p3(121,9,15),result)],[identifier(p3(121,33,39),target)]))),operation(p5(1,124,4,136,7),identifier(p5(1,124,4,136,7),endGame),[],[],precondition(p5(1,125,4,136,7),conjunct(p5(1,126,9,127,49),[equal(p3(126,9,29),identifier(p3(126,9,19),game_state),identifier(p3(126,22,29),'Ongoing')),disjunct(p3(127,9,49),equal(p3(127,9,27),identifier(p3(127,9,22),player1_fleet),empty_set(p3(127,25,27))),equal(p3(127,31,49),identifier(p3(127,31,44),player2_fleet),empty_set(p3(127,47,49))))]),if(p5(1,129,8,135,11),equal(p3(130,13,31),identifier(p3(130,13,26),player1_fleet),empty_set(p3(130,29,31))),operation_call(p3(132,12,28),identifier(p3(132,12,28),updateGameStatus),[],[identifier(p3(132,29,50),'Game_Over_Player2_won')]),[],operation_call(p3(134,12,28),identifier(p3(134,12,28),updateGameStatus),[],[identifier(p3(134,29,50),'Game_Over_Player1_won')]))))])])).
machine(abstract_machine(p5(5,5,1,33,4),machine(p4(5,5,1,8)),machine_header(p4(5,6,5,22),'BattleShipControl',[]),[sees(p5(5,8,5,9,11),[identifier(p4(5,9,5,11),'Shared')]),variables(p5(5,11,1,12,15),[identifier(p4(5,12,5,15),game_state)]),invariant(p5(5,14,1,15,28),member(p4(5,15,5,28),identifier(p4(5,15,5,15),game_state),identifier(p4(5,15,18,28),'GAME_STATE'))),initialisation(p5(5,17,1,18,52),assign(p4(5,18,5,52),[identifier(p4(5,18,5,15),game_state)],[identifier(p4(5,18,19,52),'Both_players_still_need_to_deploy')])),operations(p5(5,20,1,32,8),[operation(p5(5,22,5,25,8),identifier(p5(5,22,5,25,8),gameStatus),[identifier(p4(5,22,5,11),status)],[],block(p5(5,23,5,25,8),assign(p4(5,24,9,29),[identifier(p4(5,24,9,15),status)],[identifier(p4(5,24,19,29),game_state)]))),operation(p5(5,27,5,32,8),identifier(p5(5,27,5,32,8),updateGameStatus),[],[identifier(p4(5,27,22,31),new_state)],precondition(p5(5,28,5,32,8),member(p4(5,29,9,31),identifier(p4(5,29,9,18),new_state),identifier(p4(5,29,21,31),'GAME_STATE')),assign(p4(5,31,9,32),[identifier(p4(5,31,9,19),game_state)],[identifier(p4(5,31,23,32),new_state)])))])])).
machine(abstract_machine(p5(4,5,1,96,4),machine(p4(4,5,1,8)),machine_header(p4(4,6,5,16),'PlayerFleet',[]),[sees(p5(4,8,1,9,9),[identifier(p4(4,9,3,9),'Shared')]),sets(p5(4,11,1,12,146),[enumerated_set(p4(4,12,5,146),'MESSAGE',[identifier(p4(4,12,16,57),'Error_Some_positions_are_outside_the_grid'),identifier(p4(4,12,59,85),'Error_Incorrect_fleet_size'),identifier(p4(4,12,87,116),'Error_Fleets_already_deployed'),identifier(p4(4,12,118,145),'Successfully_fleet_deployed')])]),constants(p5(4,14,1,15,15),[identifier(p4(4,15,5,15),'FLEET_SIZE')]),properties(p5(4,17,1,18,19),equal(p4(4,18,5,19),identifier(p4(4,18,5,15),'FLEET_SIZE'),integer(p4(4,18,18,19),3))),variables(p5(4,20,1,22,18),[identifier(p4(4,21,5,18),player1_fleet),identifier(p4(4,22,5,18),player2_fleet)]),invariant(p5(4,24,1,26,30),conjunct(p5(4,25,5,26,30),[member(p4(4,25,5,30),identifier(p4(4,25,5,18),player1_fleet),pow_subset(p4(4,25,21,30),identifier(p4(4,25,25,29),'GRID'))),member(p4(4,26,5,30),identifier(p4(4,26,5,18),player2_fleet),pow_subset(p4(4,26,21,30),identifier(p4(4,26,25,29),'GRID')))])),initialisation(p5(4,28,1,30,24),parallel(p5(4,29,5,30,24),[assign(p4(4,29,5,24),[identifier(p4(4,29,5,18),player1_fleet)],[empty_set(p4(4,29,22,24))]),assign(p4(4,30,5,24),[identifier(p4(4,30,5,18),player2_fleet)],[empty_set(p4(4,30,22,24))])])),operations(p5(4,32,1,94,8),[operation(p5(4,34,5,64,8),identifier(p5(4,34,5,64,8),deployFleet),[identifier(p4(4,34,5,11),report)],[identifier(p4(4,34,28,34),player),identifier(p4(4,34,36,49),shipPositions)],precondition(p5(4,35,5,64,8),conjunct(p5(4,36,9,38,41),[member(p4(4,36,9,25),identifier(p4(4,36,9,15),player),identifier(p4(4,36,18,25),'PLAYERS')),subset(p4(4,37,9,33),identifier(p4(4,37,9,22),shipPositions),mult_or_cart(p4(4,37,26,33),int_set(p4(4,37,26,29)),int_set(p4(4,37,30,33)))),equal(p4(4,38,9,41),card(p4(4,38,9,28),identifier(p4(4,38,14,27),shipPositions)),identifier(p4(4,38,31,41),'FLEET_SIZE'))]),if(p5(4,40,9,63,12),not_subset(p4(4,40,13,36),identifier(p4(4,40,13,26),shipPositions),identifier(p4(4,40,32,36),'GRID')),assign(p4(4,42,13,64),[identifier(p4(4,42,13,19),report)],[identifier(p4(4,42,23,64),'Error_Some_positions_are_outside_the_grid')]),[if_elsif(none,not_equal(p4(4,44,13,46),card(p4(4,44,13,32),identifier(p4(4,44,18,31),shipPositions)),identifier(p4(4,44,36,46),'FLEET_SIZE')),assign(p4(4,46,13,49),[identifier(p4(4,46,13,19),report)],[identifier(p4(4,46,23,49),'Error_Incorrect_fleet_size')])),if_elsif(none,conjunct(p4(4,48,14,55),[not_equal(p4(4,48,14,33),identifier(p4(4,48,14,27),player1_fleet),empty_set(p4(4,48,31,33))),not_equal(p4(4,48,36,55),identifier(p4(4,48,36,49),player2_fleet),empty_set(p4(4,48,53,55)))]),assign(p4(4,50,13,52),[identifier(p4(4,50,13,19),report)],[identifier(p4(4,50,23,52),'Error_Fleets_already_deployed')]))],if(p5(4,52,13,62,16),conjunct(p4(4,53,18,55),[equal(p4(4,53,18,34),identifier(p4(4,53,18,24),player),identifier(p4(4,53,27,34),'Player1')),equal(p4(4,53,37,55),identifier(p4(4,53,37,50),player1_fleet),empty_set(p4(4,53,53,55)))]),parallel(p5(4,55,17,56,54),[assign(p4(4,55,17,47),[identifier(p4(4,55,17,30),player1_fleet)],[identifier(p4(4,55,34,47),shipPositions)]),assign(p4(4,56,17,54),[identifier(p4(4,56,17,23),report)],[identifier(p4(4,56,27,54),'Successfully_fleet_deployed')])]),[if_elsif(none,conjunct(p4(4,58,18,55),[equal(p4(4,58,18,34),identifier(p4(4,58,18,24),player),identifier(p4(4,58,27,34),'Player2')),equal(p4(4,58,37,55),identifier(p4(4,58,37,50),player2_fleet),empty_set(p4(4,58,53,55)))]),parallel(p5(4,60,17,61,54),[assign(p4(4,60,17,47),[identifier(p4(4,60,17,30),player2_fleet)],[identifier(p4(4,60,34,47),shipPositions)]),assign(p4(4,61,17,54),[identifier(p4(4,61,17,23),report)],[identifier(p4(4,61,27,54),'Successfully_fleet_deployed')])]))],skip(none))))),operation(p5(4,66,4,82,8),identifier(p5(4,66,4,82,8),removeShip),[],[identifier(p4(4,66,15,21),player),identifier(p4(4,66,23,36),ship_position)],precondition(p5(4,67,4,82,8),conjunct(p5(4,68,8,71,58),[member(p4(4,68,8,24),identifier(p4(4,68,8,14),player),identifier(p4(4,68,17,24),'PLAYERS')),member(p4(4,69,8,28),identifier(p4(4,69,8,21),ship_position),identifier(p4(4,69,24,28),'GRID')),implication(p4(4,70,9,58),equal(p4(4,70,9,25),identifier(p4(4,70,9,15),player),identifier(p4(4,70,18,25),'Player1')),member(p4(4,70,29,58),identifier(p4(4,70,29,42),ship_position),identifier(p4(4,70,45,58),player1_fleet))),implication(p4(4,71,9,58),equal(p4(4,71,9,25),identifier(p4(4,71,9,15),player),identifier(p4(4,71,18,25),'Player2')),member(p4(4,71,29,58),identifier(p4(4,71,29,42),ship_position),identifier(p4(4,71,45,58),player2_fleet)))]),if(p5(4,73,8,81,11),equal(p4(4,74,12,28),identifier(p4(4,74,12,18),player),identifier(p4(4,74,21,28),'Player1')),assign(p4(4,76,12,60),[identifier(p4(4,76,12,25),player1_fleet)],[minus_or_set_subtract(p4(4,76,29,60),identifier(p4(4,76,29,42),player1_fleet),set_extension(p4(4,76,45,60),[identifier(p4(4,76,46,59),ship_position)]))]),[if_elsif(none,equal(p4(4,78,12,28),identifier(p4(4,78,12,18),player),identifier(p4(4,78,21,28),'Player2')),assign(p4(4,80,12,60),[identifier(p4(4,80,12,25),player2_fleet)],[minus_or_set_subtract(p4(4,80,29,60),identifier(p4(4,80,29,42),player2_fleet),set_extension(p4(4,80,45,60),[identifier(p4(4,80,46,59),ship_position)]))]))],skip(none)))),operation(p5(4,84,5,87,8),identifier(p5(4,84,5,87,8),shipsLeft),[identifier(p4(4,84,5,15),shipCounts)],[],block(p5(4,85,5,87,8),assign(p4(4,86,9,64),[identifier(p4(4,86,9,19),shipCounts)],[add(p4(4,86,23,64),card(p4(4,86,23,42),identifier(p4(4,86,28,41),player1_fleet)),card(p4(4,86,45,64),identifier(p4(4,86,50,63),player2_fleet)))]))),operation(p5(4,89,5,94,8),identifier(p5(4,89,5,94,8),resetFleets),[],[],precondition(p5(4,90,5,94,8),disjunct(p4(4,91,9,50),equal(p4(4,91,9,27),identifier(p4(4,91,9,22),player1_fleet),empty_set(p4(4,91,25,27))),equal(p4(4,91,32,50),identifier(p4(4,91,32,45),player2_fleet),empty_set(p4(4,91,48,50)))),parallel(p4(4,93,9,52),[assign(p4(4,93,9,28),[identifier(p4(4,93,9,22),player1_fleet)],[empty_set(p4(4,93,26,28))]),assign(p4(4,93,33,52),[identifier(p4(4,93,33,46),player2_fleet)],[empty_set(p4(4,93,50,52))])])))])])).
machine(abstract_machine(p5(3,5,1,110,4),machine(p4(3,5,1,8)),machine_header(p4(3,6,5,12),'Players',[]),[sees(p5(3,8,1,9,11),[identifier(p4(3,9,5,11),'Shared')]),includes(p5(3,11,1,12,16),[machine_reference(p4(3,12,5,16),'PlayerFleet',[])]),promotes(p5(3,14,1,15,40),[identifier(p4(3,15,5,16),deployFleet),identifier(p4(3,15,18,27),shipsLeft),identifier(p4(3,15,29,40),resetFleets)]),sets(p5(3,17,1,18,46),[enumerated_set(p4(3,18,5,46),'TARGET_STATE',[identifier(p4(3,18,21,24),'Hit'),identifier(p4(3,18,26,30),'Miss'),identifier(p4(3,18,32,45),'Already_Fired')])]),variables(p5(3,20,1,24,17),[identifier(p4(3,21,5,19),current_player),identifier(p4(3,22,5,14),shots_hit),identifier(p4(3,23,5,16),shots_taken),identifier(p4(3,24,5,17),shots_missed)]),invariant(p5(3,26,1,30,41),conjunct(p5(3,27,5,30,41),[member(p4(3,27,5,29),identifier(p4(3,27,5,19),current_player),identifier(p4(3,27,22,29),'PLAYERS')),member(p4(3,28,5,38),identifier(p4(3,28,5,14),shots_hit),relations(p4(3,28,17,38),identifier(p4(3,28,17,24),'PLAYERS'),pow_subset(p4(3,28,29,38),identifier(p4(3,28,33,37),'GRID')))),member(p4(3,29,5,34),identifier(p4(3,29,5,16),shots_taken),total_function(p4(3,29,19,34),identifier(p4(3,29,19,26),'PLAYERS'),nat_set(p4(3,29,31,34)))),member(p4(3,30,5,41),identifier(p4(3,30,5,17),shots_missed),relations(p4(3,30,20,41),identifier(p4(3,30,20,27),'PLAYERS'),pow_subset(p4(3,30,32,41),identifier(p4(3,30,36,40),'GRID'))))])),initialisation(p5(3,32,1,36,57),parallel(p5(3,33,5,36,57),[assign(p4(3,33,5,30),[identifier(p4(3,33,5,19),current_player)],[identifier(p4(3,33,23,30),'Player1')]),assign(p4(3,34,5,54),[identifier(p4(3,34,5,14),shots_hit)],[set_extension(p4(3,34,18,54),[couple(p4(3,34,20,34),[identifier(p4(3,34,20,27),'Player1'),empty_set(p4(3,34,32,34))]),couple(p4(3,34,38,52),[identifier(p4(3,34,38,45),'Player2'),empty_set(p4(3,34,50,52))])])]),assign(p4(3,35,5,54),[identifier(p4(3,35,5,16),shots_taken)],[set_extension(p4(3,35,20,54),[couple(p4(3,35,22,35),[identifier(p4(3,35,22,29),'Player1'),integer(p4(3,35,34,35),0)]),couple(p4(3,35,39,52),[identifier(p4(3,35,39,46),'Player2'),integer(p4(3,35,51,52),0)])])]),assign(p4(3,36,5,57),[identifier(p4(3,36,5,17),shots_missed)],[set_extension(p4(3,36,21,57),[couple(p4(3,36,23,37),[identifier(p4(3,36,23,30),'Player1'),empty_set(p4(3,36,35,37))]),couple(p4(3,36,41,55),[identifier(p4(3,36,41,48),'Player2'),empty_set(p4(3,36,53,55))])])])])),operations(p5(3,38,1,108,7),[operation(p5(3,40,5,76,8),identifier(p5(3,40,5,76,8),playerShoots),[identifier(p4(3,40,5,11),report)],[identifier(p4(3,40,29,35),target)],precondition(p5(3,41,5,76,8),member(p4(3,42,9,22),identifier(p4(3,42,9,15),target),identifier(p4(3,42,18,22),'GRID')),if(p5(3,44,9,75,11),conjunct(p4(3,45,14,90),[not_member(p4(3,45,14,49),identifier(p4(3,45,14,20),target),function(p4(3,45,24,49),identifier(p4(3,45,24,33),shots_hit),[identifier(p4(3,45,34,48),current_player)])),not_member(p4(3,45,52,90),identifier(p4(3,45,52,58),target),function(p4(3,45,62,90),identifier(p4(3,45,62,74),shots_missed),[identifier(p4(3,45,75,89),current_player)]))]),parallel(p5(3,47,13,72,16),[assign(p4(3,47,13,75),[function(p4(3,47,13,39),identifier(p4(3,47,13,24),shots_taken),[identifier(p4(3,47,25,39),current_player)])],[add(p4(3,47,44,75),function(p4(3,47,44,71),identifier(p4(3,47,44,55),shots_taken),[identifier(p4(3,47,56,70),current_player)]),integer(p4(3,47,74,75),1))]),if(p5(3,48,13,72,16),equal(p4(3,49,17,41),identifier(p4(3,49,17,31),current_player),identifier(p4(3,49,34,41),'Player1')),parallel(p5(3,51,17,60,49),[if(p5(3,51,17,60,20),member(p4(3,52,21,43),identifier(p4(3,52,21,27),target),identifier(p4(3,52,30,43),player2_fleet)),parallel(p5(3,54,21,56,34),[operation_call(p4(3,54,21,31),identifier(p4(3,54,21,31),removeShip),[],[identifier(p4(3,54,32,39),'Player2'),identifier(p4(3,54,41,47),target)]),assign(p4(3,55,21,87),[function(p4(3,55,21,45),identifier(p4(3,55,21,30),shots_hit),[identifier(p4(3,55,31,45),current_player)])],[union(p4(3,55,50,87),function(p4(3,55,50,75),identifier(p4(3,55,50,59),shots_hit),[identifier(p4(3,55,60,74),current_player)]),set_extension(p4(3,55,79,87),[identifier(p4(3,55,80,86),target)]))]),assign(p4(3,56,21,34),[identifier(p4(3,56,21,27),report)],[identifier(p4(3,56,31,34),'Hit')])]),[],parallel(p5(3,58,21,59,35),[assign(p4(3,58,21,93),[function(p4(3,58,21,48),identifier(p4(3,58,21,33),shots_missed),[identifier(p4(3,58,34,48),current_player)])],[union(p4(3,58,53,93),function(p4(3,58,53,81),identifier(p4(3,58,53,65),shots_missed),[identifier(p4(3,58,66,80),current_player)]),set_extension(p4(3,58,85,93),[identifier(p4(3,58,86,92),target)]))]),assign(p4(3,59,21,35),[identifier(p4(3,59,21,27),report)],[identifier(p4(3,59,31,35),'Miss')])])),assign(p4(3,60,24,49),[identifier(p4(3,60,24,38),current_player)],[identifier(p4(3,60,42,49),'Player2')])]),[],parallel(p5(3,62,17,71,49),[if(p5(3,62,17,71,20),member(p4(3,63,19,41),identifier(p4(3,63,19,25),target),identifier(p4(3,63,28,41),player1_fleet)),parallel(p5(3,65,19,67,32),[operation_call(p4(3,65,19,29),identifier(p4(3,65,19,29),removeShip),[],[identifier(p4(3,65,30,37),'Player1'),identifier(p4(3,65,39,45),target)]),assign(p4(3,66,19,85),[function(p4(3,66,19,43),identifier(p4(3,66,19,28),shots_hit),[identifier(p4(3,66,29,43),current_player)])],[union(p4(3,66,48,85),function(p4(3,66,48,73),identifier(p4(3,66,48,57),shots_hit),[identifier(p4(3,66,58,72),current_player)]),set_extension(p4(3,66,77,85),[identifier(p4(3,66,78,84),target)]))]),assign(p4(3,67,19,32),[identifier(p4(3,67,19,25),report)],[identifier(p4(3,67,29,32),'Hit')])]),[],parallel(p5(3,69,19,70,33),[assign(p4(3,69,19,91),[function(p4(3,69,19,46),identifier(p4(3,69,19,31),shots_missed),[identifier(p4(3,69,32,46),current_player)])],[union(p4(3,69,51,91),function(p4(3,69,51,79),identifier(p4(3,69,51,63),shots_missed),[identifier(p4(3,69,64,78),current_player)]),set_extension(p4(3,69,83,91),[identifier(p4(3,69,84,90),target)]))]),assign(p4(3,70,19,33),[identifier(p4(3,70,19,25),report)],[identifier(p4(3,70,29,33),'Miss')])])),assign(p4(3,71,24,49),[identifier(p4(3,71,24,38),current_player)],[identifier(p4(3,71,42,49),'Player1')])]))]),[],assign(p4(3,74,12,35),[identifier(p4(3,74,12,18),report)],[identifier(p4(3,74,22,35),'Already_Fired')])))),operation(p5(3,78,5,84,8),identifier(p5(3,78,5,84,8),shotsTaken),[identifier(p4(3,78,5,14),shotCount)],[identifier(p4(3,78,30,36),player)],precondition(p5(3,79,5,84,8),member(p4(3,80,9,25),identifier(p4(3,80,9,15),player),identifier(p4(3,80,18,25),'PLAYERS')),assign(p4(3,83,9,41),[identifier(p4(3,83,9,18),shotCount)],[function(p4(3,83,22,41),identifier(p4(3,83,22,33),shots_taken),[identifier(p4(3,83,34,40),player)])]))),operation(p5(3,86,4,97,7),identifier(p5(3,86,4,97,7),shipLocations),[identifier(p4(3,86,4,15),shipsquares)],[identifier(p4(3,86,34,40),player)],precondition(p5(3,87,4,97,7),member(p4(3,88,8,24),identifier(p4(3,88,8,14),player),identifier(p4(3,88,17,24),'PLAYERS')),if(p5(3,90,8,96,11),equal(p4(3,91,12,28),identifier(p4(3,91,12,18),player),identifier(p4(3,91,21,28),'Player1')),assign(p4(3,93,12,40),[identifier(p4(3,93,12,23),shipsquares)],[identifier(p4(3,93,27,40),player1_fleet)]),[],assign(p4(3,95,12,40),[identifier(p4(3,95,12,23),shipsquares)],[identifier(p4(3,95,27,40),player2_fleet)])))),operation(p5(3,99,4,108,7),identifier(p5(3,99,4,108,7),resetPlayer),[],[],precondition(p5(3,100,4,108,7),disjunct(p4(3,101,10,51),equal(p4(3,101,10,28),identifier(p4(3,101,10,23),player1_fleet),empty_set(p4(3,101,26,28))),equal(p4(3,101,33,51),identifier(p4(3,101,33,46),player2_fleet),empty_set(p4(3,101,49,51)))),parallel(p5(3,103,8,107,60),[operation_call(p4(3,103,8,19),identifier(p4(3,103,8,19),resetFleets),[],[]),assign(p4(3,104,8,33),[identifier(p4(3,104,8,22),current_player)],[identifier(p4(3,104,26,33),'Player1')]),assign(p4(3,105,8,57),[identifier(p4(3,105,8,17),shots_hit)],[set_extension(p4(3,105,21,57),[couple(p4(3,105,23,37),[identifier(p4(3,105,23,30),'Player1'),empty_set(p4(3,105,35,37))]),couple(p4(3,105,41,55),[identifier(p4(3,105,41,48),'Player2'),empty_set(p4(3,105,53,55))])])]),assign(p4(3,106,8,57),[identifier(p4(3,106,8,19),shots_taken)],[set_extension(p4(3,106,23,57),[couple(p4(3,106,25,38),[identifier(p4(3,106,25,32),'Player1'),integer(p4(3,106,37,38),0)]),couple(p4(3,106,42,55),[identifier(p4(3,106,42,49),'Player2'),integer(p4(3,106,54,55),0)])])]),assign(p4(3,107,8,60),[identifier(p4(3,107,8,20),shots_missed)],[set_extension(p4(3,107,24,60),[couple(p4(3,107,26,40),[identifier(p4(3,107,26,33),'Player1'),empty_set(p4(3,107,38,40))]),couple(p4(3,107,44,58),[identifier(p4(3,107,44,51),'Player2'),empty_set(p4(3,107,56,58))])])])])))])])).
machine(abstract_machine(p5(2,5,1,24,4),machine(p4(2,5,1,8)),machine_header(p4(2,6,5,11),'Shared',[]),[sets(p5(2,8,1,10,33),[enumerated_set(p4(2,9,5,107),'GAME_STATE',[identifier(p4(2,9,18,25),'Ongoing'),identifier(p4(2,9,27,60),'Both_players_still_need_to_deploy'),identifier(p4(2,9,62,83),'Game_Over_Player2_won'),identifier(p4(2,9,85,106),'Game_Over_Player1_won')]),enumerated_set(p4(2,10,5,33),'PLAYERS',[identifier(p4(2,10,16,23),'Player1'),identifier(p4(2,10,25,32),'Player2')])]),constants(p5(2,12,1,16,9),[identifier(p4(2,13,5,7),'XX'),identifier(p4(2,14,5,7),'YY'),identifier(p4(2,15,5,14),'GRID_SIZE'),identifier(p4(2,16,5,9),'GRID')]),properties(p5(2,18,1,22,17),conjunct(p5(2,19,5,22,17),[equal(p4(2,19,5,19),identifier(p4(2,19,5,14),'GRID_SIZE'),integer(p4(2,19,17,19),10)),equal(p4(2,20,5,22),identifier(p4(2,20,5,7),'XX'),interval(p4(2,20,10,22),integer(p4(2,20,10,11),1),identifier(p4(2,20,13,22),'GRID_SIZE'))),equal(p4(2,21,5,22),identifier(p4(2,21,5,7),'YY'),interval(p4(2,21,10,22),integer(p4(2,21,10,11),1),identifier(p4(2,21,13,22),'GRID_SIZE'))),equal(p4(2,22,5,17),identifier(p4(2,22,5,9),'GRID'),mult_or_cart(p4(2,22,12,17),identifier(p4(2,22,12,14),'XX'),identifier(p4(2,22,15,17),'YY')))]))])).
